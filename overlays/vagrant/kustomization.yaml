apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Base components
resources:
  - ../../components

# Vagrant-specific patches
patches:
  # MetalLB IP address pool for local network
  - path: metallb-ipaddresspool-patch.yaml
    target:
      kind: IPAddressPool
      name: first-pool

  # Self-signed certificates for local development
  - path: selfsigned-issuer.yaml
    target:
      kind: ClusterIssuer
      name: letsencrypt

  - path: ingress-patches.yaml
    target:
      kind: Ingress
      name: argocd-server
